<!DOCTYPE html>
<html>
<head>
    <title>Chatbot</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<div id="chat-form">
    <input type="text" id="prompt" placeholder="Enter your text here">
    <button id="submit-button">Submit</button>
</div>
<div id="result"></div>

<script>
    $("#submit-button").click(function () {
        var prompt = $("#prompt").val();
        $.ajax({
            type: "POST",
            url: "/chat",
            data: {"prompt": prompt},
            success: function (response) {
                var task_id = response["task_id"];
                get_result(task_id);
            }
        });
    });

    function get_result(task_id) {
        $.ajax({
            type: "GET",
            url: "/result/" + task_id,
            success: function (response) {
                $("#result").text(response["data"]);
            }
        });
    }
</script>
</body>
</html>
